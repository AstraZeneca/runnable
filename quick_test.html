<!DOCTYPE html>
<html>
<head><title>Quick Tooltip Test</title></head>
<body style="padding: 50px; font-family: system-ui;">
    <h2>Parameter Tooltip Test</h2>
    <p>Hover over this bar to see if parameters show:</p>

    <div id="testbar"
         style="width: 400px; height: 50px; background: #22c55e; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin: 20px 0; cursor: pointer;"
         data-step="set_parameter"
         data-input-params=""
         data-output-params="integer=1 | floater=3.14 | stringer=&quot;hello&quot;">
        HOVER ME - should show output parameters
    </div>

    <div id="tooltip" style="position: absolute; background: #1e293b; color: white; padding: 15px; border-radius: 8px; opacity: 0; transition: opacity 0.2s; pointer-events: none; z-index: 1000; border: 2px solid #60a5fa;"></div>

    <script>
        const tooltip = document.getElementById('tooltip');
        const testbar = document.getElementById('testbar');

        testbar.addEventListener('mouseenter', (e) => {
            const inputParams = e.target.dataset.inputParams || '';
            const outputParams = e.target.dataset.outputParams || '';

            console.log('Raw dataset:', e.target.dataset);
            console.log('Input params:', inputParams);
            console.log('Output params:', outputParams);

            let content = '<div><strong>Step:</strong> ' + e.target.dataset.step + '</div>';

            if (inputParams) {
                content += '<div style="margin-top: 10px;"><strong>Input Parameters:</strong><br>' + inputParams + '</div>';
            }

            if (outputParams) {
                content += '<div style="margin-top: 10px;"><strong>Output Parameters:</strong><br>' + outputParams + '</div>';
            }

            tooltip.innerHTML = content;
            tooltip.style.opacity = '1';
        });

        testbar.addEventListener('mousemove', (e) => {
            tooltip.style.left = e.pageX + 10 + 'px';
            tooltip.style.top = e.pageY - 10 + 'px';
        });

        testbar.addEventListener('mouseleave', () => {
            tooltip.style.opacity = '0';
        });
    </script>
</body>
</html>